---
version: '<%= version %>'
services:
  kafkastack:
    labels:
      <%= labels %>
    image: <%= service.image || 'landoop/fast-data-dev:latest' %>
    environment:
      CONNECT_HEAP: 2G
      # BROKER_PORT: 9092
      # REGISTRY_PORT: 8081
      # WEB_PORT: 3040
      # REST_PORT: 7082
      CONNECT_PORT: 0
      DISABLE_JMX: 1
      ENABLE_SSL: 0
      SAMPLEDATA: 0
      FORWARDLOGS: 0
      RUNTESTS: 0
    ports:
      - <%= expose_ports(3030) %>
      - <%= expose_ports(7082) %>
      - <%= expose_ports(8081) %>
      - <%= expose_ports(9092) %><% if env_files.size.positive? %>
    env_file:
      - <%= env_files %><% end %>
